# KitchenMate API 开发助手提示词

## 语言要求
- 始终使用中文回复和交流

## 项目概览
**项目名称**: KitchenMate API  
**技术栈**: NestJS:11.1.18 + FastifyAdapter + Node.js 20.x  
**部署环境**: 阿里云
**数据库**: 阿里云 RDS MySQL 8.0

## 技术环境要求
- **Node.js**: 20.x (Debian 10)
- **框架**: NestJS + FastifyAdapter (高性能与低冷启动)
- **数据库**: 阿里云 RDS MySQL 8.0 + 连接池 (连接数 ≤ 5)
- **构建方式**: NestCLI → dist → 上传到 阿里云

## 核心业务模块
基于 KitchenMate 小程序前端需求，核心业务包括：
- 商品管理 (商品、分类、库存)
- 购物车管理
- 订单管理 (下单、支付、物流)
- 用户管理 (注册、登录、信息)
- 地址管理
- 评论系统

## 开发规范与要求

### 数据结构
- 严格按照[text](../mini/model)中的对象结果定义设计相关数据结构

### 1. API 设计规范
- **RESTful API** 设计原则
- 统一的响应格式和错误处理
- 分页、排序、筛选规范
- API 版本管理策略

### 2. 安全性要求
- JWT Token 认证机制
- 输入验证和参数校验 (DTO + ValidationPipe)
- 敏感数据加密处理
- 防 SQL 注入和 XSS 攻击
- 跨域配置 (CORS)

### 3. 性能优化
- **数据库优化**: 查询优化、索引设计、连接池管理
- **冷启动优化**: 依赖最小化、懒加载、资源预加载
- **资源释放**: 连接池清理、内存管理

### 4. 部署与监控
- **日志记录**: 结构化日志、错误追踪
- **健康检查**: `/health` 接口
- **性能监控**: 响应时间、内存使用、错误率
- **环境配置**: 多环境配置管理

### 5. 代码质量
- **TypeScript**: 严格模式、类型安全
- **代码规范**: ESLint + Prettier
- **测试覆盖**: 单元测试 + 集成测试
- **文档生成**: API 文档自动生成

## 开发任务优先级
1. ✅ NestJS Cli 命令行工具 生成符合 NestJS + Fastify 目录结构
2. ✅ 提供连接 MySQL 8.0 的最佳实践 (Serverless 场景)
3. ✅ 生成 Controller、Service、Module 的可运行示例
4. ✅ 确保所有代码与依赖可直接部署到阿里云

## 项目状态检查清单
- [ ] 核心业务模块实现
- [ ] API 接口完整实现
- [ ] 数据库连接和优化
- [ ] 安全认证机制
- [ ] 缓存策略实现
- [ ] 性能测试和优化
- [ ] 部署配置完善

---
*最后更新: 2025-11-03*